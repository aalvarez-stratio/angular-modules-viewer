<div class="graph-manager npa-color--background">
  <div class="graph-manager__header">
    <div class="graph-manager__header-main">
      <h1>{{projectData.projectName$ | async | titlecase}}</h1>
      <button class="npa-button" (click)="showLoadProjectModal$.next(true)">Change Project</button>
    </div>
    <div class="graph-manager__header-tabs">
      <npa-tab [tabs]="sectionTabs" [borderBottom]="true" (tabClick)="selectedTab$.next($event.id)"></npa-tab>
    </div>
  </div>
  <ng-container *ngIf="selectedTab$ | async as selectedTab">
    <app-modules-viewer-overview
      *ngIf="selectedTab === 'overview'"
      [routes]="(projectData.projectData$ | async)?.routes"
    ></app-modules-viewer-overview>
    <app-assets-graph
      *ngIf="selectedTab === 'graph'"
      [loadingData]="projectData.loadingData$ | async"
      [applicationGraph]="applicationGraph$ | async"
    ></app-assets-graph>

  </ng-container>
</div>
<npa-modal
  [title]="'Set project to analysis'"
  [showModal]="showLoadProjectModal$ | async"
  [modalConfig]="loadProjectModalConfig"
  (closeModal)="showLoadProjectModal$.next(false)">
  <div class="set-project-modal">
    <div class="set-project-modal__path-control">
      <label for="ts-config" class="npa-color--space-6">Path of tsconfig</label>
      <input
        id="ts-config"
        type="text"
        class="npa-input npa-input--action-clear"
        placeholder="Type something for search..."
        [formControl]="tsConfigControl"
        npaFb>
    </div>
    <div class="set-project-modal__path-control">
      <label for="package-json" class="npa-color--space-6">Path of package</label>
      <input
        id="package-json"
        type="text"
        class="npa-input npa-input--action-clear"
        placeholder="Type something for search..."
        [formControl]="packageJsonControl"
        npaFb>
    </div>
    <div class="set-project-modal__button-container">
      <button class="npa-button" (click)="requestResults()">Change</button>
    </div>
  </div>
</npa-modal>
